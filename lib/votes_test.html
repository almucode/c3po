<!DOCTYPE html>
<title>Tests for votes.js</title>
<script src="votes.js"></script>
<script src="testing/assert.js"></script>
<script src="testing/base.js"></script>
<script src="testing/test.js"></script>
<script>
test("Total for no votes", () => {
  let votes = new Votes(1);
  assert.equal(votes.total, 0);
});

test("Total for two votes with three options", () => {
  let votes = new Votes(2);
  votes.add("X", ["a"]);
  votes.add("Y", ["b", "c"]);
  assert.equal(votes.total, 2);
});

test("Total for an empty vote", () => {
  let votes = new Votes(1);
  votes.add("X", []);
  assert.equal(votes.total, 1);
});

test("Total for an invalid vote", () => {
  let votes = new Votes(2);
  votes.add("X", ["a", "b", "c"]);
  assert.equal(votes.total, 1);
});

test("Summary for no votes", () => {
  let votes = new Votes(1);
  assert.equal(votes.summarize(), "");
});

test("Summary for two votes with three options", () => {
  let votes = new Votes(2);
  votes.add("Y", ["b"]);
  votes.add("X", ["a", "b"]);
  assert.equal(votes.summarize(), "b: 2 (X, Y)\na: 1 (X)");
});

test("Summary for an empty vote", () => {
  let votes = new Votes(1);
  votes.add("X", []);
  assert.equal(votes.summarize(), "-: 1 (X)");
});

test("Summary for an invalid vote", () => {
  let votes = new Votes(2);
  votes.add("X", ["a", "b", "c"]);
  assert.equal(votes.summarize(), "-: 1 (X)");
});

test("Summary for a redundant vote", () => {
  let votes = new Votes(1);
  votes.add("X", ["a", "a"]);
  assert.equal(votes.summarize(), "a: 1 (X)");
});
</script>
